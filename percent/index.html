<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>–í—ñ–¥—Å–æ—Ç–∫–∏</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <link rel="stylesheet" href="../shared/styles.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Start Screen -->
        <div id="startScreen" class="screen active">
            <h1>üíØ –í—ñ–¥—Å–æ—Ç–∫–∏</h1>
            <p class="subtitle">–ü—Ä–æ–ø–æ—Ä—Ü—ñ—ó, —Ñ–æ—Ä–º—É–ª–∏, –¥–µ—Å—è—Ç–∫–æ–≤—ñ –¥—Ä–æ–±–∏</p>

            <div class="theory-box">
                <h3>üìñ –û—Å–Ω–æ–≤–∏</h3>
                <div class="formula-row">
                    <span class="formula">1% = 0.01 = 1/100</span>
                </div>
                <div class="formula-row">
                    <span class="formula">p% –≤—ñ–¥ A = A ¬∑ p/100</span>
                </div>
                <div class="formula-row">
                    <span class="formula">–ü—Ä–æ–ø–æ—Ä—Ü—ñ—è: A/100 = B/p</span>
                </div>
            </div>

            <div class="level-select">
                <h3>–û–±–µ—Ä–∏ —Ä—ñ–≤–µ–Ω—å:</h3>
                <button class="btn btn-level" data-level="1">
                    <span class="level-icon">üå±</span>
                    <div class="level-info">
                        <span class="level-name">–õ–µ–≥–∫–∏–π</span>
                        <span class="level-desc">–ü—Ä–æ—Å—Ç—ñ –≤—ñ–¥—Å–æ—Ç–∫–∏ (10%, 25%, 50%)</span>
                    </div>
                </button>
                <button class="btn btn-level" data-level="2">
                    <span class="level-icon">üåø</span>
                    <div class="level-info">
                        <span class="level-name">–°–µ—Ä–µ–¥–Ω—ñ–π</span>
                        <span class="level-desc">–ü—Ä–æ–ø–æ—Ä—Ü—ñ—ó, –∑–Ω–∞–π—Ç–∏ —Ü—ñ–ª–µ</span>
                    </div>
                </button>
                <button class="btn btn-level" data-level="3">
                    <span class="level-icon">üå≥</span>
                    <div class="level-info">
                        <span class="level-name">–°–∫–ª–∞–¥–Ω–∏–π</span>
                        <span class="level-desc">–ó–º—ñ–Ω–∞ –≤–µ–ª–∏—á–∏–Ω, —Å–∫–ª–∞–¥–Ω—ñ %</span>
                    </div>
                </button>
            </div>
        </div>

        <!-- Game Screen -->
        <div id="gameScreen" class="screen">
            <div class="header">
                <div class="stats">
                    <span class="stat">‚úÖ <span id="correct">0</span></span>
                    <span class="stat">‚ùå <span id="wrong">0</span></span>
                    <span class="stat">üî• <span id="streak">0</span></span>
                </div>
                <div class="level-badge">–†—ñ–≤–µ–Ω—å <span id="currentLevel">1</span></div>
            </div>

            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>

            <div class="question-card">
                <div class="question-type" id="questionType"></div>
                <div class="question-text" id="questionText"></div>
                <div class="method-hint" id="methodHint"></div>
            </div>

            <div class="answer-section">
                <input type="text"
                       id="answerInput"
                       class="answer-input"
                       placeholder="–¢–≤–æ—è –≤—ñ–¥–ø–æ–≤—ñ–¥—å..."
                       inputmode="text"
                       autocomplete="off">
                <button class="btn btn-submit" id="submitBtn">–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏</button>
            </div>

            <button class="btn btn-hint" id="hintBtn">üí° –ü—ñ–¥–∫–∞–∑–∫–∞ –≤—ñ–¥ –®–Ü</button>
            <div class="hint-container" id="hintContainer">
                <div class="hint-loading" id="hintLoading">–î—É–º–∞—é...</div>
                <div class="hint-text" id="hintText"></div>
            </div>

            <div class="feedback" id="feedback"></div>
        </div>

        <!-- Result Screen -->
        <div id="resultScreen" class="screen">
            <h2 id="resultTitle">üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç</h2>
            <div class="result-stats">
                <div class="result-stat">
                    <span class="result-value" id="finalCorrect">0</span>
                    <span class="result-label">–ü—Ä–∞–≤–∏–ª—å–Ω–æ</span>
                </div>
                <div class="result-stat">
                    <span class="result-value" id="finalWrong">0</span>
                    <span class="result-label">–ü–æ–º–∏–ª–æ–∫</span>
                </div>
                <div class="result-stat">
                    <span class="result-value" id="finalAccuracy">0%</span>
                    <span class="result-label">–¢–æ—á–Ω—ñ—Å—Ç—å</span>
                </div>
            </div>
            <div class="result-actions">
                <button class="btn btn-primary" id="nextLevelBtn">‚¨ÜÔ∏è –ù–∞—Å—Ç—É–ø–Ω–∏–π —Ä—ñ–≤–µ–Ω—å</button>
                <button class="btn btn-secondary" id="restartBtn">üîÑ –©–µ —Ä–∞–∑</button>
                <button class="btn btn-secondary" id="menuBtn">üìö –ú–µ–Ω—é</button>
            </div>
        </div>
    </div>

    <script src="../shared/ai-hints.js"></script>
    <script src="app.js"></script>
</body>
</html>
