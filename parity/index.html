<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>–ü–∞—Ä–Ω—ñ —Ç–∞ –Ω–µ–ø–∞—Ä–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
    <link rel="stylesheet" href="styles.css">
    <script src="../shared/theme.js"></script>
</head>
<body>
    <div class="container">
        <!-- Start Screen -->
        <div id="startScreen" class="screen active">
            <h1>üìä –ü–∞—Ä–Ω—ñ—Å—Ç—å —Ñ—É–Ω–∫—Ü—ñ–π</h1>
            <p class="subtitle">–í–∏–≤—á–∏ –ø–∞—Ä–Ω—ñ —Ç–∞ –Ω–µ–ø–∞—Ä–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó</p>

            <div class="theory-preview">
                <h3>üìñ –û–∑–Ω–∞—á–µ–Ω–Ω—è</h3>
                <div class="definition">
                    <p><strong>–ü–∞—Ä–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è:</strong></p>
                    <p class="formula" id="evenDef"></p>
                    <p class="hint-text">–ì—Ä–∞—Ñ—ñ–∫ —Å–∏–º–µ—Ç—Ä–∏—á–Ω–∏–π –≤—ñ–¥–Ω–æ—Å–Ω–æ –æ—Å—ñ OY</p>
                </div>
                <div class="definition">
                    <p><strong>–ù–µ–ø–∞—Ä–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è:</strong></p>
                    <p class="formula" id="oddDef"></p>
                    <p class="hint-text">–ì—Ä–∞—Ñ—ñ–∫ —Å–∏–º–µ—Ç—Ä–∏—á–Ω–∏–π –≤—ñ–¥–Ω–æ—Å–Ω–æ –ø–æ—á–∞—Ç–∫—É –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç</p>
                </div>
            </div>

            <div class="level-select">
                <h3>–û–±–µ—Ä–∏ —Ä—ñ–≤–µ–Ω—å:</h3>
                <button class="btn btn-level" data-level="1">
                    <span class="level-icon">üå±</span>
                    <span class="level-text">–õ–µ–≥–∫–∏–π</span>
                    <span class="level-desc">–¢–∏–ø–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó</span>
                </button>
                <button class="btn btn-level" data-level="2">
                    <span class="level-icon">üåø</span>
                    <span class="level-text">–°–µ—Ä–µ–¥–Ω—ñ–π</span>
                    <span class="level-desc">–§–æ—Ä–º—É–ª–∏ —Ç–∞ –≥—Ä–∞—Ñ—ñ–∫–∏</span>
                </button>
                <button class="btn btn-level" data-level="3">
                    <span class="level-icon">üå≥</span>
                    <span class="level-text">–°–∫–ª–∞–¥–Ω–∏–π</span>
                    <span class="level-desc">–ö–æ–º–ø–æ–∑–∏—Ü—ñ—ó —Ç–∞ —Å—É–º–∏</span>
                </button>
            </div>
        </div>

        <!-- Game Screen -->
        <div id="gameScreen" class="screen">
            <div class="header">
                <div class="stats">
                    <span class="stat">‚úÖ <span id="correct">0</span></span>
                    <span class="stat">‚ùå <span id="wrong">0</span></span>
                    <span class="stat">üî• <span id="streak">0</span></span>
                </div>
                <div class="level-indicator">–†—ñ–≤–µ–Ω—å <span id="currentLevel">1</span></div>
            </div>

            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>

            <!-- Graph Container -->
            <div class="graph-container" id="graphContainer" style="display: none;">
                <canvas id="graphCanvas" width="300" height="250"></canvas>
            </div>

            <div class="question-area">
                <p class="question-type" id="questionType"></p>
                <div class="question" id="question"></div>
            </div>

            <div class="answers" id="answers"></div>

            <button class="btn btn-hint" id="hintBtn">üí° –ü—ñ–¥–∫–∞–∑–∫–∞</button>
            <div class="hint-container" id="hintContainer" style="display: none;">
                <div class="hint-text" id="hintText"></div>
            </div>

            <div class="feedback" id="feedback"></div>
        </div>

        <!-- Result Screen -->
        <div id="resultScreen" class="screen">
            <h2 id="resultTitle">üéâ –ß—É–¥–æ–≤–æ!</h2>
            <div class="result-stats">
                <div class="result-stat">
                    <span class="result-value" id="finalCorrect">0</span>
                    <span class="result-label">–ü—Ä–∞–≤–∏–ª—å–Ω–æ</span>
                </div>
                <div class="result-stat">
                    <span class="result-value" id="finalWrong">0</span>
                    <span class="result-label">–ü–æ–º–∏–ª–æ–∫</span>
                </div>
                <div class="result-stat">
                    <span class="result-value" id="finalAccuracy">0%</span>
                    <span class="result-label">–¢–æ—á–Ω—ñ—Å—Ç—å</span>
                </div>
            </div>
            <div class="result-actions">
                <button class="btn btn-primary" id="restartBtn">üîÑ –©–µ —Ä–∞–∑</button>
                <button class="btn btn-secondary" id="menuBtn">üìö –ú–µ–Ω—é</button>
            </div>
        </div>

        <!-- Theory Reference -->
        <div id="theoryScreen" class="screen">
            <h2>üìñ –î–æ–≤—ñ–¥–Ω–∏–∫</h2>
            <div class="theory-content">
                <h3>–ü–∞—Ä–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó (—Å–∏–º–µ—Ç—Ä—ñ—è ‚ÜîÔ∏è)</h3>
                <ul class="function-list" id="evenList"></ul>

                <h3>–ù–µ–ø–∞—Ä–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó (—Å–∏–º–µ—Ç—Ä—ñ—è ‚Ü©Ô∏è)</h3>
                <ul class="function-list" id="oddList"></ul>

                <h3>–ù—ñ –ø–∞—Ä–Ω—ñ, –Ω—ñ –Ω–µ–ø–∞—Ä–Ω—ñ</h3>
                <ul class="function-list" id="neitherList"></ul>

                <h3>–í–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ</h3>
                <div class="properties" id="propertiesList"></div>
            </div>
            <button class="btn btn-primary" id="backFromTheory">‚¨ÖÔ∏è –ù–∞–∑–∞–¥</button>
        </div>
    </div>

    <script src="app.js"></script>
    <script src="../shared/firebase.js"></script>
</body>
</html>
