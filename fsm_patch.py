# === FSM TRAINER PATCH ===
# –¶–µ –∫–æ–¥ –¥–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –≤ quiz-bot-2.py

# 1. –ù–û–í–ê –§–£–ù–ö–¶–Ü–Ø (–¥–æ–¥–∞—Ç–∏ –ø—ñ—Å–ª—è cmd_webapp, –ø—Ä–∏–±–ª–∏–∑–Ω–æ —Ä—è–¥–æ–∫ 1115)

async def cmd_fsm_trainer(u: Update, c: ContextTypes.DEFAULT_TYPE):
    """–ó–∞–ø—É—Å–∫ Web App —Ç—Ä–µ–Ω–∞–∂–µ—Ä–∞ —Ñ–æ—Ä–º—É–ª —Å–∫–æ—Ä–æ—á–µ–Ω–æ–≥–æ –º–Ω–æ–∂–µ–Ω–Ω—è"""
    keyboard = InlineKeyboardMarkup([
        [InlineKeyboardButton(
            "üìê –í—ñ–¥–∫—Ä–∏—Ç–∏ —Ç—Ä–µ–Ω–∞–∂–µ—Ä –§–°–ú",
            web_app=WebAppInfo(url="https://marko1717.github.io/math-trainer-webapp/")
        )],
        [InlineKeyboardButton("‚Ü©Ô∏è –ù–∞–∑–∞–¥", callback_data="back_to_menu")]
    ])

    text = """üìê *–¢—Ä–µ–Ω–∞–∂–µ—Ä —Ñ–æ—Ä–º—É–ª —Å–∫–æ—Ä–æ—á–µ–Ω–æ–≥–æ –º–Ω–æ–∂–µ–Ω–Ω—è*

üéØ *–©–æ –≤–º—ñ—î —Ç—Ä–µ–Ω–∞–∂–µ—Ä:*
‚Ä¢ 7 —Ç–∏–ø—ñ–≤ —Ñ–æ—Ä–º—É–ª (–∫–≤–∞–¥—Ä–∞—Ç–∏, –∫—É–±–∏)
‚Ä¢ –ê–¥–∞–ø—Ç–∏–≤–Ω–∏–π –®–Ü - –ø—ñ–¥–ª–∞—à—Ç–æ–≤—É—î —Å–∫–ª–∞–¥–Ω—ñ—Å—Ç—å
‚Ä¢ 3 —Ä—ñ–≤–Ω—ñ: –ª–µ–≥–∫–∏–π ‚Üí —Å–µ—Ä–µ–¥–Ω—ñ–π ‚Üí —Å–∫–ª–∞–¥–Ω–∏–π
‚Ä¢ –ü–æ—è—Å–Ω–µ–Ω–Ω—è –¥–æ –∫–æ–∂–Ω–æ—ó –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ
‚Ä¢ –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è –ø—Ä–æ–≥—Ä–µ—Å—É

üìä *–Ø–∫ –ø—Ä–∞—Ü—é—î –®–Ü:*
‚úÖ 5+ –ø—Ä–∞–≤–∏–ª—å–Ω–∏—Ö –ø—ñ–¥—Ä—è–¥ ‚Üí —Å–∫–ª–∞–¥–Ω—ñ—à—ñ –∑–∞–≤–¥–∞–Ω–Ω—è
‚ùå –ü–æ–º–∏–ª–∫–∏ ‚Üí –ª–µ–≥—à—ñ + —Ñ–æ–∫—É—Å –Ω–∞ —Å–ª–∞–±–∫–∏—Ö —Ç–µ–º–∞—Ö

üëÜ –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –∫–Ω–æ–ø–∫—É —â–æ–± –ø–æ—á–∞—Ç–∏:"""

    if hasattr(u, 'callback_query') and u.callback_query:
        await u.callback_query.message.edit_text(
            text,
            reply_markup=keyboard,
            parse_mode="Markdown"
        )
    else:
        await u.message.reply_text(
            text,
            reply_markup=keyboard,
            parse_mode="Markdown"
        )
